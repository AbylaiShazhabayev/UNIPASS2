var tableCompartilhamentos;function carregarCompartilhamentos(){tableCompartilhamentos.block(),tableCompartilhamentos.api().ajax.url("api/passwords/"+senhaId+"/shareds").load(function(){tableCompartilhamentos.unblock()})}$("#modalCompartilhar").on("shown.bs.modal",function(){carregarCompartilhamentos()}).on("hidden.bs.modal",function(){}),(tableCompartilhamentos=$("#tableCompartilhamentos").dataTable({autoWidth:!1,order:[],deferLoading:0,dom:"<'row'<'col-8'f><'col-4'B>><'row'<'col-12'tr>><'card-footer d-flex align-items-center'ip>",buttons:[{text:'<button class="btn btn-primary w-xs float-right" id="btnGruposAdicionar"><i class="fe fe-users mr-1"></i>Group</button>'},{text:'<button class="btn btn-white w-xs float-right mr-2" id="btnUsuariosAdicionar"><i class="fe fe-user mr-1"></i>User</button>'}],paging:!1,columns:[{width:"45%",render:function(t,o,e){return e.group_name?'<i class="fe fe-users mr-2" title="Grupo"></i>'+e.group_name:'<i class="fe fe-user mr-2" title="User"></i>'+e.user_name}},{width:"55%",orderable:!1,render:function(t,o,e){return'<div><label class="custom-control custom-checkbox custom-control-inline mb-0"><input type="checkbox" class="custom-control-input" '+(e.can_view?"checked":"")+' disabled><span class="custom-control-label">View</span></label><label class="custom-control custom-checkbox custom-control-inline mb-0"><input type="checkbox" class="custom-control-input" '+(e.can_edit?"checked":"")+' disabled><span class="custom-control-label">Edit</span></label><label class="custom-control custom-checkbox custom-control-inline mb-0"><input type="checkbox" class="custom-control-input" '+(e.can_delete?"checked":"")+' disabled><span class="custom-control-label">Delete</span></label><label class="custom-control custom-checkbox custom-control-inline mb-0"><input type="checkbox" class="custom-control-input" '+(e.can_share?"checked":"")+' disabled><span class="custom-control-label">Share</span></label></div>'}},{data:"id",orderable:!1,className:"text-right",render:function(t){return'<a href="javascript:void(0)" class="btn btn-white btn-icon btn-sm btnExcluir" data-id="'+t+'" title="Exclude"><svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"></path><line x1="4" y1="7" x2="20" y2="7"></line><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line><path d="M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"></path><path d="M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"></path></svg></a>'}}]})).on("click","tbody > tr .btnExcluir",function(t){let o=$("#modalCompartilhar").find(".modal-content"),e=$(this).attr("data-id");e&&confirm("Do you really want to delete?")&&($.request({url:"api/passwords/"+e+"/shareds",method:"DELETE",error:function(){o.unblock()},after:function(){$.notify({message:"Share deleted"},{type:"success"}),o.unblock(),carregarCompartilhamentos()}}),t.stopPropagation())});